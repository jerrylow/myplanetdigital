@import "../includes.less";
@menu-transition-time:0.4s;
@indicator-width: 8px;
@menu-hover-offset:11px;
@menu-offset-delay:0.25s;

@media only screen and (min-width :1175px) {
	body {
		#menu {
			-webkit-font-smoothing: subpixel-antialiased;
			.user-select();
			//.translateZ();
			opacity: 0.999;
			.transition-transform(@menu-transition-time);
			position: fixed;
			left:0;
			text-align: center;
			overflow: hidden;
			&:before, &:after {
				content: '';
				position:absolute;
				top:0;
				height:@menu-height - 9px;
				background:#000;
				left:0;
				right:0;
				opacity:0.001;
				pointer-events:none;
				z-index:-1;
				.transition-transform(@menu-transition-time ease, opacity @menu-transition-time linear);
				.translate3d(0, -9px, 0);
			}
			&:after {
				background:#fff;
			}
			ul {
				> li {
					height:0;
					&.blog, a {
						font-size:0;
						position:relative;
						display:inline-block;
						&:before, &:after {
							content: attr(data-attr);
							color:#fff;
							font-size:15px;
							opacity:0.999;
							white-space:nowrap;
							display:block;
							padding-top:40px;
							.transition-transform(@menu-transition-time ease, opacity @menu-transition-time linear);
							.translate3d(0, 57px, 0);
						}
						&:after {
							color:#000;
							top: 50%;
							position: absolute;
							opacity: 0.001;
							position:absolute;
						}
					}
					&.contact, &.careers {
						left:40px;
					}
				}
			}
			&.light {
				&:after {
					.transform(translate3d(0, -51px, 0));
					opacity:0.999;
				}
				ul > li {
					a, &.blog {
						&:before, &:after {
							.transition-delay(@menu-offset-delay);
							.transform(translate3d(0, 40px, 0));
							opacity:0.001;
						}
						&:after {
							opacity:0.999;
						}
					}
					&.home {
						a:before, a:after {
							.transform(translate3d(-9px, 66px, 0) scale(.725));
						}
						&.hover {
							a:after {
								.transform(translate3d(-3px, 66px, 0) scale(.85));
								.transition-delay(0);
								opacity:0.999;
							}
							a:before {
								opacity:0.001;
							}
						}
						&.no-delay {
							a:before, a:after {
								.transition-delay(0);
							}
						}
					}
				}
			}
			&.dark {
				&:before {
					.transform(translate3d(0, -51px, 0));
					opacity:0.999;
				}
				ul > li {
					&.blog, a {
						&:before, &:after {
							//.transition-delay(@menu-offset-delay);
							.transform(translate3d(0, 40px, 0));
						}
					}
					&.home {
						a:before, a:after {
							.transform(translate3d(-12px, 77px, 0) scale(.45));
						}
						&.hover {
							a:before {
								.transform(translate3d(-9px, 77px, 0) scale(.5));
								.transition-delay(0);
								opacity:0.999;
							}
							a:after {
								opacity:0.001;
							}
						}
						&.no-delay {
							a:before, a:after {
								.transition-delay(0);
							}
						}
					}
				}
			}
			&.delay {
				&:before, &:after {
					.transition-transform(@menu-transition-time ease @menu-offset-delay, opacity @menu-transition-time ease-in-out);
				}
				ul > li {
					&.blog, a {
						&:before, &:after {
							.transition-delay(@menu-offset-delay);
						}
					}
				}
			}
			&.no-delay {
				&:before, &:after {
					.transition-delay(0);
				}
			}
		}
	}
}

#menu {
	font-size:0;

	> ul {
		width: 100%;
		max-width: 1140px;
		margin: 0 auto;
		padding:0;
		list-style: none;
		position:relative;
		@media only screen and (min-width: 1175px) {
			height:@menu-height + 5px;
			left:34px;
			text-align: left;
		}
	}
	ul > li {
		.border-box();
		text-align: left;
		vertical-align: top;
		display:inline-block;
		font-family: TradeGothic;
		font-size: 14px;
		letter-spacing: -0.03em;
		list-style: none;
		//height:@menu-height;
		//line-height:168px;
		position:relative;
		a {
			color: #fff;
			height:0;
			padding:0 25px;
			@media only screen and (min-width: 1175px) {
				margin-top:-60px;
			}
		}
		&.home a {
			padding:0;
		}
		@media only screen and (max-width: 1174px) {
			font-size: 15px;
			&:last-of-type {
				border-bottom:0;
			}
			&.active {
				background:#fff;
				color:#000;
			}
			&.home a {
				padding: 0 30px;
			}
			&.blog {
				display:none;
			}
		}
		@media only screen and (min-width: 1175px) {
			&.home {
				top: -42px;
				left:-53px;

				a {
					&:before, &:after {
						content:'';
						height: 81px;
						width: 81px;
						font-size: 0;
						background: url('../images/spritempd.png') no-repeat 0 -243px;
						background-size: 434px auto;
						display: block;
						top:0;
						left:0;
						padding:0;
						.translate3d(0, 94px, 0);
						-webkit-transform-origin: 100% 50%;
						transform-origin: 100% 50%;
					}
					&:before {
						background-position: 0px -412px;
						width: 138px;
						height: 138px;
						background-size:490px auto;
						.transform(translate3d(0, 94px, 0) scale(0.58));
					}
					&:after {
						background-position:0 -37px;
					}
				}

				&.hover a {
					&:before {
						.transform(translate3d(3px, 94px, 0) scale(0.62));
					}
				}
			}
			a {
				text-decoration: none;
				.transition-transform(@menu-transition-time);
			}
		}
	}
}
@media only screen and (min-width: 1175px) {
	#menu ul.dark li.home.hover a {
		&:before {
			opacity:0.999;
		}
		&:after {
			opacity:0.001;
		}
	}
	#menu.no-transition:before, #menu.no-transition:after {
		.transition(none) !important;
	}
}
[data-role="menu-indicator"] {
	display:none;
}
@media only screen and (min-width: 1175px) {
	#menu  {
	//	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.13); //4px -1px 13px #ddd;
	}
	[data-role="menu-indicator"] {
		.transition-transform(@menu-transition-time, opacity @menu-transition-time);
		.transform(translate3d(100px, 0, 0) scale(0.001));
		outline:2px solid rgba(255,255,255,0.001);
		display:inline-block;
		opacity:0.001;
		width: 100px;
		z-index:2;
		&:after, &:before {
			content:'';
			display:block;
			height: 1px;
			width:100%;
			background:#fff;
			opacity:0.999;
			.transform(opacity @menu-transition-time);
			.translateZ();
		}
		&:after {
			background:#000;
			opacity:0.001;
			left:0;
			top:0;
			position:absolute;
		}
		&.dark {
			&.before {
				opacity:0.001;
			}
			&:after {
				opacity:0.999;
			}
		}
		top:72px;
		position:fixed;
		//z-index:2;
		-webkit-transform-origin:0 0;
		-moz-transform-origin:0 0;
		transform-origin:0 0;
	}
	#menu {
		ul:after {
			content:'';
			position:absolute;
			height:5px;
			width:5px;
			border:1px solid #fff;
			border-width:0 1px 1px 0;
			opacity:0.5;
			.transform(translateZ(0) scale(0.001));
			.transition-transform(0.4s);
		}
		&.design ul:after {
			.transform(translateZ(0));
		}
		&.community ul:after {
			.transform(translate3d(0, 30px, 0));
		}
		&.technology ul:after {
			.transform(translateZ(0, 60px, 0));
		}
	}
	//hide the dark menu for now
	[data-role="menu-indicator"]:after, #menu ul li a:after, #menu:after {
		display:none !important;
	}
}

@media only screen and (max-width: 1174px) {
	#menu {
		color:#fff;
		background:#232323;
		opacity:0.001;
		margin-left:-1px;
		z-index: 2;
		> ul {
			font-size:0;
			margin:0;
			padding:0;
		}
		ul > li {
			text-align: left;
			padding: 0;
			display:inline-block;
			height:52px;
			line-height:53px;
			border-bottom:1px solid #333;
			width:100%;
			color: white;

			a {
				display: inline-block;
				box-sizing: border-box;
				min-width: 100%;
				padding: 0 30px;
				text-decoration: none;
				color: inherit;
				height:auto;
			}
		}
	}
}
