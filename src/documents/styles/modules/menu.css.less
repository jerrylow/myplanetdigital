@import "../includes.less";
@menu-transition-time:0.4s;
@indicator-width: 8px;
@menu-hover-offset:11px;

@media only screen and (min-width :1175px) {
	body {
		#menu {
			.user-select();
			.translateZ();
			.transition-transform(@menu-transition-time);
			position: fixed;
			left:0;
			text-align: center;
			overflow: hidden;
		}

		&.small-menu {
			 #menu {
				.translate3d(0, -94px, 0);
			}

			ul li:after {
				.transform(translate3d(0, -94px, 0) scale(0.98));
			}

			#menu ul > li {
				.translate3d(0, 30px, 0);
			}
		}
	}
}

#menu {
	color:#000;
	background:#fff;
	font-size:0;

	> ul {
		margin:0;
		padding:0;
		list-style: none;
	}
	ul > li {
		.border-box();
		text-align: center;
		vertical-align: top;
		display:inline-block;
		font-family: TradeGothic;
		font-size: 13px;
		letter-spacing: -0.03em;
		list-style: none;
		text-transform:lowercase;
		height:@menu-height;
		line-height:168px;
		width:100px;
		position:relative;
		color: black;
		a {
				display:inline-block;
				height:100%;
				position: relative;
				z-index: 1;
		}
		&.active {
			background:#fff;
			color:#000;
		}
		@media only screen and (max-width: 1174px) {
			font-size: 15px;
			&:last-of-type {
				border-bottom:0;
			}
		}
		@media only screen and (min-width: 1175px) {
			height:@menu-height;
			margin-top:-@menu-hover-offset;
			background:transparent;

			&.home {
				display:none;
			}
			a {
				color: inherit;
				text-decoration: none;
				.transition-transform(@menu-transition-time);
			}
			a > span {
				z-index: 1;
				position: relative;
				top: -17px;
			}
			&:before {
				content:'';
				position:absolute;
				top:44px;
				left:28px;
				width: 42px;
				height: 48px;
				opacity: 0.2;
				background:url('../images/spritempd.png') 0 0 no-repeat;
				background-size:533px;
				.transition-transform(@menu-transition-time, opacity @menu-transition-time);
			}
			&.company, &.what-we-do {
				&:before {
					background-position: -411px -50px;
				}
			}
			&.people {
				&:before {
					background-position: -309px -51px;
				}
			}
			&.careers {
				&:before {
					background-position: -101px -48px;
					top: 38px;
				}
			}
			&.contact {
				margin-right: 300px;
				&:before {
					background-position: -360px -51px;
				}
			}
			&.design {
				&:before {
					opacity: 0.01;
					background-position: -154px -52px;
				}
				&:after {
					content: 'thoughts:';
					position: absolute;
					font-family: TradeGothic;
					font-size: 13px;
					letter-spacing: -0.03em;
					font-weight: bold;
					top: -17px;
					left: -50px;
				}
			}
			&.technology {
				&:before {
					opacity: 0.01;
					background-position: -209px -51px;
				}
			}
			&.community {
				&:before {
					opacity: 0.01;
					background-position: -259px -50px;
				}
			}
			&.hover, &.active {
				a {
					.transform(translateY(28px));
				}
				&:before {
					opacity: 1;
				}
			}
		}
	}
}
[data-role="menu-indicator"] {
	display:none;
}
@media only screen and (min-width: 1175px) {
	#menu  {
		box-shadow: 0 1px 2px rgba(0, 0, 0, 0.125); //4px -1px 13px #ddd;
	}
	[data-role="menu-indicator"] {
		.transition-transform(@menu-transition-time);
		.translateZ();
		display:inline-block;
		border-left: @indicator-width + 2 solid transparent;
		border-right: @indicator-width + 2 solid transparent;
		border-top: @indicator-width + 2 solid #ddd;
		top:@menu-height -  @menu-hover-offset;
		position:fixed;
		left:50%;
		margin-left:  -((@max-width - @menu-height) / 2) - @indicator-width - 1;
		z-index:2;
		&:after {
			position: absolute;
			content: '';
			display: block;
			border-left: @indicator-width solid transparent;
			border-right: @indicator-width solid transparent;
			border-top: @indicator-width solid #fff;
			margin: -@indicator-width - 2 0 0 -@indicator-width;
		}
	}
	 .menu-hover {
	 	position:absolute;
		width: 30px;
		height: 43px;
		background:url('../images/spritempd.png') no-repeat -140px 0;
		background-size:533px;
		margin:40px 0 0 30px;
		.translateZ();
	}
}

@media only screen and (max-width: 1174px) {
	#menu {
		color:#fff;
		background:#000;

		> ul {
			font-size:0;
			margin:0;
			padding:0;
		}
		ul > li {
			text-align: left;
			padding:0 30px;
			display:inline-block;
			height:52px;
			line-height:53px;
			border-bottom:1px solid #333;
			width:100%;
			color: white;

			a {
				min-width:300px;
				text-decoration: none;
				color: inherit;
			}
		}
	}
}

@media only screen and (min-width : 1175px) and (max-width:1324px) {
	#menu {
		border:1px solid #fff;
		border-width:0 0 0 (@logo-width + (@logo-gutter-width * 2));
		text-align:left !important;
	}
	[data-role="menu-indicator"] {
		left:0;
		margin-left: -@indicator-width + (@logo-width + (@logo-gutter-width * 2)) + @menu-height / 2;
	}
}